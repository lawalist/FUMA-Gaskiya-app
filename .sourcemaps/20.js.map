{"version":3,"sources":["../../src/pages/visualisations/statistique/statistique.ts","../../src/pages/visualisations/statistique/statistique.module.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, LoadingController } from 'ionic-angular';\nimport { PouchdbProvider } from '../../../providers/pouchdb-provider';\nimport { RestitutionProvider } from '../../../providers/restitution/restitution';\n/**\n * Generated class for the StatistiquePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-statistique',\n  templateUrl: 'statistique.html',\n})\nexport class StatistiquePage {\n  producteurs: any = [];\n  //testData: any = [];\n  //data:any;\n  //recherche: any = 'FM-';\n  selectedMembre1: any = '';\n  selectedMembre2: any = '';\n  selectedNomMembre1: any = '';\n  selectedNomMembre2: any = '';\n  selectedEntreeMed: any = '';\n  selectedDiff: any = 'PDE';\n  selectedVar: any = 'PDE';\n  selectedMed: any = 'PDE';\n  selectedEntree: any;\n  selectedEntreeMembre: any;\n  vegaData: any = [];\n  medianeData: any = [];\n  nbTotalEssa: any = 0;\n  nbDuexEssaiTotal: any = 0;\n  uniqueMembres: any = [];\n  uniqueMB: any = 0;\n  statistiqueTraitement: any = [];\n  //statistique: boolean = false;\n  allEssais: any = [];\n  traitements: any = [];\n  allOP: any = [];\n  nbAllOP: number = 0;\n  nbAllUnion: number = 0;\n  opEssai: any = [];\n  entrees: any = [];\n  membresData: any = [];\n  membre1Data: any = [];\n  membre2Data: any = [];\n  code_union: any;\n  code_op: any;\n  type: any\n  fin:any = [];\n  protocoles: any;\n\n  selectedAnne:any = 2017;\n  uniqueNbUnion: any = 0;\n  uniqueNbOP: any=0;\n  nbSexes: any = {'females':0,'hommes': 0}\n  annee: any;\n  temp: any =[]\n\n  constructor(public navCtrl: NavController/*, public ServiceAutoCompletion: RestitutionProvider,*/, public modelCtl: ModalController, public navParams: NavParams, public loadtingCtl: LoadingController, public viewCtl: ViewController, public servicePouchdb: PouchdbProvider) {\n    this.type = this.navParams.data.type;\n    this.annee = this.navParams.data.selectedAnnee\n    this.protocoles = this.navParams.data.protocole\n    //this.temp = [...this.navParams.data.essais];\n    this.temp = [...this.adapterEssaiPourAffichage(this.navParams.data.essais)]\n    //this.transformEssai(this.navParams.data.essais)\n    if(this.type === 'essai'){\n      //let data: any = {}\n      //data.doc = {}\n      //data.ddoc.data = this.navParams.data.essais;\n      this.allEssais = this.temp;\n      //this.traitements = this.navParams.data.traitements;\n      this.producteurs = this.navParams.data.producteurs;\n    }/*else if(this.navParams.data.type === 'union'){\n      this.code_union = this.navParams.data.code_union;\n      this.getEssais(this.code_union, this.type, this.selectedAnne);\n      this.getMembres(this.code_union, this.type);\n      this.getTraitements(this.selectedAnne);\n    }else if(this.navParams.data.type === 'op'){\n      this.code_op = this.navParams.data.code_op;\n      this.getEssais(this.code_op, this.type, this.selectedAnne);\n      this.getMembres(this.code_op, this.type);\n      this.getTraitements(this.selectedAnne)\n    }*/\n\n    //alert(this.allEssais.length)\n  }\n\n\n  transformEssai(ess){\n    let t: any = [];\n    ess.forEach((e) => {\n      let temp: any = {};\n      temp.doc = {};\n      temp.doc.data = e;\n      t.push(temp)\n    })\n\n    this.temp = [...t];\n  }\n\n  getInfo(code, type, annee){\n    //membres\n    let mbr: any = [];\n    this.producteurs = [];\n    this.allEssais = [];\n    let essais: any = []\n    this.entrees = []\n    this.statistiqueTraitement = []\n    let trm: any = [];\n    this.traitements = [];\n      this.servicePouchdb.getPlageDocsRapide('fuma:op:membre','fuma:op:membre:\\uffff').then((mbrA) => {\n        \n       // this.servicePouchdb.getPlageDocsRapide('koboSubmission_fuma-op-membre','koboSubmission_fuma-op-membre\\uffff').then((mbrK) => {\n         // mbr = mbrA.concat(mbrK);\n          mbrA.map((m) => {\n            if(m.doc.data.code_union === code && type === 'union'){\n              this.producteurs.push(m);\n            }else if(m.doc.data.op_code === code && type === 'op'){\n              this.producteurs.push(m);\n            }\n          });\n\n          //essais\n          \n          if(type === 'union'){\n            this.servicePouchdb.getPlageDocsRapide('fuma:essai', 'fuma:essai:\\uffff').then((e) => {\n            if(e){\n              e.map((es) => {\n                \n                if(code === es.doc.data.code_union && annee == es.doc.data.annee_essai.toString() ){\n                  essais.push(es)\n                }\n              });\n\n              this.temp = [...this.adapterEssaiPourAffichage(essais)]\n              this.allEssais = this.temp;\n\n              //traitements\n              \n              this.servicePouchdb.getPlageDocsRapide('fuma:traitement', 'fuma:traitement:\\uffff').then((t) => {\n                  if(t){\n                    t.map((row) => {\n                        if(row.doc.data.annee.toString() === annee.toString() ){\n                            trm.push(row);\n                          }\n                    });\n                    this.traitements = trm;\n                    \n                    /*let p: any = [];\n                    this.producteurs.forEach((prod, index) => {\n                      p.push(prod.doc.data); \n                    });*/\n\n                    \n                    //this.ServiceAutoCompletion.data = p;\n                    if(this.traitements.length){\n                      this.selectedEntree = this.traitements[0].doc.data.nom_entree;\n                      this.selectedEntreeMembre = this.traitements[0].doc.data.nom_entree;\n                      this.selectedEntreeMed = this.traitements[0].doc.data.nom_entree;\n                    }\n\n                    this.traitements.forEach((t) => {\n                      this.entrees.push(t.doc.data.nom_entree);\n                    })\n                    this.calculStatisitque(this.allEssais, this.traitements, this.producteurs);\n                  }   \n                });  \n              }\n            });\n          }else if(type === 'op'){\n            this.servicePouchdb.getPlageDocsRapide('fuma:essai:FM-'+code, 'fuma:essai:FM-'+code+' \\uffff').then((e) => {\n                e.map((es) => {\n                if(es.doc.data.annee_essai.toString() == annee.toString()){\n                  essais.push(es)\n                }\n              });\n\n              this.temp = [...this.adapterEssaiPourAffichage(essais)]\n              this.allEssais = this.temp;\n\n              //traitements\n              let trm: any = [];\n              this.traitements = [];\n              this.servicePouchdb.getPlageDocsRapide('fuma:traitement', 'fuma:traitement:\\uffff').then((t) => {\n                  if(t){\n                    t.map((row) => {\n                        if(row.doc.data.annee.toString() === annee.toString()){\n                            trm.push(row);\n                          }\n                    });\n                    this.traitements = trm;\n                    /*let p: any = [];\n                    this.producteurs.forEach((prod, index) => {\n                      p.push(prod.doc.data); \n                    });*/\n\n                    \n                    //this.ServiceAutoCompletion.data = p;\n                    if(this.traitements.length){\n                      this.selectedEntree = this.traitements[0].doc.data.nom_entree;\n                      this.selectedEntreeMembre = this.traitements[0].doc.data.nom_entree;\n                      this.selectedEntreeMed = this.traitements[0].doc.data.nom_entree;\n                    }\n\n                    this.traitements.forEach((t) => {\n                      this.entrees.push(t.doc.data.nom_entree);\n                    })\n                    this.calculStatisitque(this.allEssais, this.traitements, this.producteurs);\n                  }   \n                });  \n\n              });\n          }\n        \n\n        //}, err => console.log(err));\n\n      }, err => console.log(err));\n  }\n\n\n  adapterEssaiPourAffichage(allEssais){\n    let dataTableEssais = [];\n    let colums = []\n    if(allEssais && allEssais.length){\n      allEssais.forEach((essai) => {\n          let newEssai = this.clone(essai);\n          //let cultures = this.clone(newEssai.doc.data.cultures)\n          //newEssai.doc.data.cultures = {};\n          newEssai.doc.data.cultures.forEach((cl, index) => {\n            if(newEssai.doc.data.cultures.length > 1){\n              newEssai.doc.data[\"culture_+\"+index] = cl.culture;\n              newEssai.doc.data[\"variete_+\"+index] = cl.variete;\n              newEssai.doc.data[\"superficie_essai_+\"+index] = cl.superficie_essai;\n            }else{\n              newEssai.doc.data[\"culture\"] = cl.culture;\n              newEssai.doc.data[\"variete\"] = cl.variete;\n              newEssai.doc.data[\"superficie_essai\"] = cl.superficie_essai;\n            }\n            if(newEssai.doc.data.type_essais != 'avec controle'){\n\n              cl.variables_essai.forEach((vr) => {\n                let keys = Object.keys(vr);\n                newEssai.doc.data[vr[keys[0]]] = vr[keys[2]]\n              })\n            }else{\n              if(newEssai.doc.data.cultures.length > 1){\n                newEssai.doc.data[\"superficie_controle_+\"+index] = cl.superficie_controle;\n              }else{\n                newEssai.doc.data[\"superficie_controle\"] = cl.superficie_controle;\n              }\n              \n              for(let i = 0; i < cl.variables_essai.length; i++){\n                let keys = Object.keys(cl.variables_essai[i]);\n                let key = cl.variables_essai[i][keys[0]]\n                //let val = cl.variables_essai[i][keys[3]]\n                newEssai.doc.data[key] = cl.variables_essai[i][keys[3]];\n                newEssai.doc.data[key+\"_controle\"] = cl.variables_controle[i][keys[3]];\n                //newEssai.doc.data[cl.variables_controle[i][keys[0]]] = cl.variables_controle[i][keys[2]]\n              }\n            }\n            \n          })\n\n          \n          dataTableEssais.push(newEssai.doc.data);\n        });\n      }\n\n      return dataTableEssais\n    \n  }\n\n  clone(obj) {\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) {return obj};\n\n    // Handle Date\n    if (obj instanceof Date) {\n        var copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        let copy = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n            copy[i] = this.clone(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        let copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = this.clone(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}\n\n\n\n  getMembres(code, type){\n    let mbr: any = [];\n    this.producteurs = [];\n      this.servicePouchdb.getPlageDocsRapide('fuma:op:membre','fuma:op:membre:\\uffff').then((mbrA) => {\n        \n        this.servicePouchdb.getPlageDocsRapide('koboSubmission_fuma-op-membre','koboSubmission_fuma-op-membre\\uffff').then((mbrK) => {\n          mbr = mbrA.concat(mbrK);\n          mbr.map((m) => {\n            if(m.doc.data.code_union === code && type === 'union'){\n              this.producteurs.push(m);\n            }else if(m.doc.data.op_code === code && type === 'op'){\n              this.producteurs.push(m);\n            }\n          });\n\n          /* let p: any = [];\n          this.producteurs.forEach((prod, index) => {\n            p.push(prod.doc.data); \n          });*/\n\n          \n          //this.ServiceAutoCompletion.data = p;\n        }, err => console.log(err));\n\n      }, err => console.log(err)); \n  }\n\n\n  getEssais(code, type, annee){\n    this.allEssais = [];\n    if(type === 'union'){\n      this.servicePouchdb.getPlageDocsRapide('fuma:essai', 'fuma:essai:\\uffff').then((e) => {\n      if(e){\n        e.map((es) => {\n          if(code === es.doc.data.code_union && annee.toString() === es.doc.data.annee_essai.toString()){\n            this.allEssais.push(es)\n          }\n        })\n      }\n    });\n    }else if(type === 'op'){\n       this.servicePouchdb.getPlageDocsRapide('fuma:essai:FM-'+code, 'fuma:essai:FM-'+code+' \\uffff').then((e) => {\n          e.map((es) => {\n          if(es.doc.data.annee_essai.toString() === annee.toString()){\n            this.allEssais.push(es)\n          }\n        })\n        });\n    }\n   \n  }\n\n\n    getTraitements(annee){\n        let trm: any = [];\n        this.traitements = [];\n        this.servicePouchdb.getPlageDocsRapide('fuma:traitement', 'fuma:traitement:\\uffff').then((t) => {\n            if(t){\n              t.map((row) => {\n                  if(this.protocoles.indexOf(row.doc.data.code_protocole)  !== -1){\n                      trm.push(row);\n                    }\n              });\n              this.traitements = trm;\n              if(this.traitements.length){\n                this.selectedEntree = this.traitements[0].doc.data.nom_entree;\n                this.selectedEntreeMembre = this.traitements[0].doc.data.nom_entree;\n                this.selectedEntreeMed = this.traitements[0].doc.data.nom_entree;\n              }\n\n              this.traitements.forEach((t) => {\n                this.entrees.push(t.doc.data.nom_entree);\n              });\n            }   \n          });  \n    }\n\n\n  ionViewDidEnter() {\n    //console.log('ionViewDidLoad RestitutionPage');\n    if(this.type == 'union'){\n      this.code_union = this.navParams.data.code_union;\n      this.getInfo(this.code_union, this.type, this.selectedAnne);\n      \n    }else if(this.type == 'op'){\n      this.code_op = this.navParams.data.code_op;\n      this.getInfo(this.code_op, this.type, this.selectedAnne);\n    }\n    else if(this.type == 'essai'){\n      /*let p: any = [];\n      this.producteurs.forEach((prod, index) => {\n        p.push(prod.doc.data); \n      });*/\n      //this.ServiceAutoCompletion.data = p;\n\n      let trm: any = [];\n      this.servicePouchdb.getPlageDocsRapide('fuma:traitement', 'fuma:traitement:\\uffff').then((t) => {\n        if(t){\n          //this.allTraitements = t;\n          t.map((row) => {\n              if(this.protocoles.indexOf(row.doc.data.code_protocole)  !== -1){\n                  trm.push(row);\n                }\n          });\n          this.traitements = trm;\n          if(this.traitements.length){\n            this.selectedEntree = this.traitements[0].doc.data.nom_entree;\n            this.selectedEntreeMembre = this.traitements[0].doc.data.nom_entree;\n            this.selectedEntreeMed = this.traitements[0].doc.data.nom_entree;\n          }\n\n          this.traitements.forEach((t) => {\n            this.entrees.push(t.doc.data.nom_entree);\n          });\n\n          this.calculStatisitque(this.allEssais, this.traitements, this.producteurs);\n        }else{\n          this.calculStatisitque(this.allEssais, this.traitements, this.producteurs);\n        }\n      }).catch((err) => this.calculStatisitque(this.allEssais, this.traitements, this.producteurs));\n\n    }\n  }\n\n\n\n  existeProducteur(matricule){\n    for(let i = 0; i < this.producteurs.length; i++){\n      if(matricule === this.producteurs[i].doc.data.matricule_Membre){\n        return 1;\n      }\n    }\n\n    return 0;\n  }\n\n  preparerDannePourAnnalyse(essai){\n    let essai_data: any = [];\n    essai.forEach((ess) => {\n      essai_data.push(ess.doc.data);\n    });\n\n    return essai_data;\n  }\n\n  visualisation(essais){\n    //let data: any = this.preparerDannePourAnnalyse(essai);\n    //let essai: any = [];\n    let data: any = [];\n    let ess: any = {};\n     var max_PDE = 0;\n     var max_NPR = 0;\n     var max_NPL = 0;\n    /*essais.forEach((item) => {\n      essai.push(item);\n    });*/\n\n    essais.forEach((e) =>{\n       ess =  e;\n       if(e.PDE)\n        {ess.PDE = parseFloat(e.PDE);}\n       if(e.PDE_controle)\n       {ess.PDE_controle = parseFloat(e.PDE_controle);}\n       if(e.NPL)\n       {ess.NPL = parseInt(e.NPL);}\n       if(e.NPL_controle)\n       {ess.NPL_controle = parseInt(e.NPL_controle);}\n       if(e.NPR)\n       {ess.NPR = parseInt(e.NPR);}\n       if(e.NPR_controle)\n       {ess.NPR_controle = parseInt(e.NPR_controle);}\n\n\n       if(e.PDE && e.PDE_controle)\n       {\n         ess.diff_PDE = parseFloat(e.PDE) - parseFloat(e.PDE_controle);\n         ess.diff_PDE = ess.diff_PDE.toFixed(2)\n         if(e.PDE >= e.PDE_controle){\n          max_PDE = parseInt(e.PDE)\n         }else{\n          max_PDE = parseInt(e.PDE_controle);\n         }\n      }else if(e.PDE && !e.PDE_controle){\n        ess.diff_PDE = parseFloat(e.PDE).toFixed(2);\n        max_PDE = parseInt(e.PDE);\n      }else if(!e.PDE && e.PDE_controle){\n        ess.diff_PDE = - parseFloat(e.PDE_controle).toFixed(2);\n        max_PDE = parseInt(e.PDE_controle);\n      }else{\n        ess.diff_PDE = '';\n        max_PDE = 0;\n      }\n\n      if(e.NPL && e.NPL_controle)\n       {ess.diff_NPL = parseInt(e.NPL) - parseInt(e.NPL_controle);\n        if(e.NPL >= e.NPL_controle){\n          max_NPL =  parseInt(e.NPL)\n        }else{\n          max_NPL = parseInt(e.NPL_controle);\n        }\n      }else if(e.NPL && !e.NPL_controle || e.NPL_controle === ''){\n        ess.diff_NPL = parseInt(e.NPL);\n        max_NPL = parseInt(e.NPL);\n      }else if(!e.NPL || e.NPL === '' && e.NPL_controle){\n        ess.diff_NPL= - parseInt(e.NPL_controle);\n        max_NPL = parseInt(e.NPL_controle);\n      }else{\n        ess.diff_NPL = '';\n        max_NPL = 0;\n      }\n\n       if(e.NPR && e.NPR_controle)\n       {ess.diff_NPR = parseInt(e.NPR) - parseInt(e.NPR_controle);\n        if(e.NPR >= e.NPR_controle){\n          max_NPR = parseInt(e.NPR)\n        }else{\n          max_NPR = parseInt(e.NPR_controle);\n        }\n      }else if(e.NPR && !e.NPR_controle){\n        ess.diff_NPR = parseInt(e.NPR);\n        max_NPR = parseInt(e.NPR);\n      }else if(!e.NPR && e.NPR_controle){\n        ess.diff_NPR= - parseInt(e.NPR_controle);\n        max_NPR = parseInt(e.NPR_controle);\n      }else{\n        ess.diff_NPR = '';\n        max_NPR = 0;\n      }\n\n  \n    \n      //ess.PDE >= ess.PDE_controle ? max_PDE = ess.PDE: max_PDE = ess.PDE_controle;\n      if(max_PDE % 5 === 0){\n        ess.mediane_PDE = max_PDE\n      }else if((max_PDE +1) % 5 === 0){\n        ess.mediane_PDE = max_PDE +1;\n      }else if((max_PDE +2) % 5 === 0){\n        ess.mediane_PDE = max_PDE +2;\n      }else if((max_PDE +3) % 5 === 0){\n        ess.mediane_PDE = max_PDE +3;\n      }else if((max_PDE +4) % 5 === 0){\n        ess.mediane_PDE = max_PDE +4;\n      }else{\n        ess.mediane_PDE = 0;\n      }\n      \n\n      \n      //ess.NPR >= ess.NPR_controle ? max_NPR = ess.NPR: max_NPR = ess.NPR_controle;\n      if(max_NPR % 5 === 0){\n        ess.mediane_NPR = max_NPR\n      }else  if((max_NPR +1) % 5 === 0){\n        ess.mediane_NPR = max_NPR +1;\n      }else  if((max_NPR +2) % 5 === 0){\n        ess.mediane_NPR = max_NPR +2;\n      }else  if((max_NPR +3) % 5 === 0){\n        ess.mediane_NPR = max_NPR +3;\n      }else  if((max_NPR +4) % 5 === 0){\n        ess.mediane_NPR = max_NPR +4;\n      }else{\n        ess.mediane_NPR = 0;\n      }\n      \n      \n      //ess.NPL >= ess.NPL_controle ? max_NPL = ess.NPL: max_NPL = ess.NPL_controle;\n      if(max_NPL % 5 === 0){\n        ess.mediane_NPL = max_NPL\n      }else if((max_NPL +1 ) % 5 === 0){\n        ess.mediane_NPL = max_NPL +1;\n      }else if((max_NPL +2 ) % 5 === 0){\n        ess.mediane_NPL = max_NPL +2;\n      }else if((max_NPL +3 ) % 5 === 0){\n        ess.mediane_NPL = max_NPL +3;\n      }else if((max_NPL +4 ) % 5 === 0){\n        ess.mediane_NPL = max_NPL +4;\n      }else{\n        ess.mediane_NPL = 0;\n      }\n\n      \n\n      /*if(ess.PDE === ess.PDE_controle){\n        ess.mediane_PDE = ess.PDE;\n      }\n      if(ess.NPL === ess.NPL_controle){\n        ess.mediane_NPL = ess.NPL;\n      }\n      if(ess.NPR === ess.NPR_controle){\n        ess.mediane_NPR = ess.NPR;\n      }*/\n\n       //ess.diff_NPL = parseInt(e.doc.data.NPL) - parseInt(e.doc.data.NPL_controle);\n       //ess.diff_NPR = parseInt(e.doc.data.NPR) - parseInt(e.doc.data.NPR_controle);\n\n      data.push(ess);\n      ess = {};\n    });\n\n    this.vegaData = data;\n\n    //this.visualiserTouts(data, this.selectedVar);\n    this.visualiserDifferenceEssaiControle(data, this.selectedDiff, this.selectedEntree, this.selectedMembre1, this.selectedNomMembre2);\n    this.visualiserMediane(data, this.selectedMed, this.selectedEntreeMed, this.selectedMembre1, this.selectedMembre2);\n   \n\n  }\n\n  visualiserTouts(data, selectedVar){\n\n    let variable:any;\n\n   if(selectedVar === 'NPL controle'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'NPR controle'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'PDE controle'){\n      variable = 'PDE_controle'\n    }else {\n      variable = selectedVar\n    }\n\n     var vlSpec = {\n    \"data\": {\n      \"values\": data\n    }\n    ,\n    \"mark\": \"point\",\n    \"encoding\": {\n     \"x\": { \"field\": \"matricule_producteur\", \"type\": \"nominal\" },\n     \"y\": { \"field\": variable, \"type\": \"quantitative\" },\n     \"color\": { \"field\": \"nom_entree\", \"type\": \"nominal\" },\n     //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n    }\n  };\n\n/*var embedSpec = {\n  mode: \"vega-lite\",\n  spec: vlSpec\n}\n\nvar opt = {\n  'mode': 'vega'\n\n}*/\n\n\n\n   /* embed('#visMembre1', vlSpec, { mode: \"vega-lite\"}).then(function(result){\n      // access view as result.view\n    }).catch(console.error);\n\n     embed('#visMembre2', vlSpec, { mode: \"vega-lite\"}).then(function(result){\n      // access view as result.view\n    }).catch(console.error);*/\n  }\n\n\n\n  visualiserMembresEssais(viewData, selectedVar, selectedEntreeMembre){\n\n    /*let variable:any;\n\n   if(selectedVar === 'NPL controle'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'NPR controle'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'PDE controle'){\n      variable = 'PDE_controle'\n    }else {\n      variable = selectedVar\n    }*/\n\n    let data: any = [];\n      viewData.forEach((d) => {\n    if(d.nom_entree === selectedEntreeMembre){\n      data.push(d);\n    }\n  });\n\n  var vlSpec: any = {\n    \"data\": {\n      \"values\": data\n    }\n    ,\n    \"mark\": \"bar\",\n    \"encoding\": {\n    //\"column\": {\"field\": \"nom_producteur\", \"type\": \"nominal\"},\n     \"x\": { \"field\": \"matricule_producteur\", \"type\": \"nominal\" },\n     \"y\": { \"field\": selectedVar, \"type\": \"quantitative\",\n        \"axis\": {                // Axis\n          \"tickCount\":  5\n        }\n      },\n     \"color\": { \"field\": \"nom_producteur\", \"type\": \"nominal\" },\n     //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n    }\n  };\n\n  //var node = 'vega-lite';\n /* var opt = {\n    mode: node,\n    actions: false\n  }*/\n\n\n\n\n  /***************\n\n    embed('#visEssai', vlSpec, { mode: \"vega-lite\"}).then(function (result){\n      // access view as result.view\n      // vegaLite(result.view, result.spec)\n    }).catch(console.error);\n*********************/\n    \n  }\n\n\n  visualiserMembresControle(viewData, selectedVar, selectedEntreeMembre){\n\n    let variable:any;\n\n   if(selectedVar === 'NPL'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'NPR'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'PDE'){\n      variable = 'PDE_controle'\n    }\n\n    let data: any = [];\n      viewData.forEach((d) => {\n    if(d.nom_entree === selectedEntreeMembre){\n      data.push(d);\n    }\n  });\n\n     var vlSpec: any = {\n    //\"title\": \"Comparaison \"+selectedVar+ \" controle\",\n    \"data\": {\n      \"values\": data\n    }\n    ,\n    \"mark\": \"bar\",\n    \"encoding\": {\n     \"x\": { \"field\": \"matricule_producteur\", \"type\": \"nominal\" },\n     \"y\": { \"field\": variable, \"type\": \"quantitative\",\n      \"axis\": {                // Axis\n        \"tickCount\":  5\n      }\n    },\n     \"color\": { \"field\": \"nom_producteur\", \"type\": \"nominal\" },\n     //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n    }\n  };\n\n/******************************\n    embed('#visControle', vlSpec, { mode: \"vega-lite\"}).then(function(result){\n      // access view as result.view\n    }).catch(console.error);\n    ***********************/\n  }\n\n\n   visualiserDifferenceEssaiControle(viewData, selectedDiff, selectedEntree, membre1, membre2){\n     //this.loading = true;\n     let diff: string;\n     let data: any = [];\n\n     viewData.forEach((d) => {\n       if(d.nom_entree === selectedEntree){\n         data.push(d);\n       }\n     });\n\n     if(selectedDiff === 'NPL'){\n        diff = \"diff_NPL\";\n        /*let v: any;\n        for(let i = 0; i < data.length -1; i++){\n          v = data[i];\n          for(let j = i; j < data.length; j++){\n            if(v.diff_NPL > data[j].diff_NPL){\n              data[i] = data[j];\n              data[j] = v;\n              v = data[i];\n            }\n          }\n        }*/\n      /* data.sort((a, b) => {\n            if ( a.diff_NPL < b.diff_NPL ){\n              return -1;\n            }\n            if ( a.diff_NPL > b.diff_NPL ){\n              return 1;\n            }else{\n              return 0;\n            }\n        });*/\n\n     }else if(selectedDiff === 'NPR'){\n        diff = \"diff_NPR\"; \n       /* data.sort((a, b) => {\n            if ( a.diff_NPR < b.diff_NPR )\n                {return -1;}\n            if ( a.diff_NPR > b.diff_NPR )\n                {return 1;}\n            else\n            {return 0;}\n        });*/\n     }else{\n       diff = \"diff_PDE\";\n       /*data.sort((a, b) =>{\n            if ( a.diff_PDE < b.diff_PDE )\n                {return -1;}\n            if ( a.diff_PDE > b.diff_PDE )\n                {return 1;}\n            else\n            {return 0;}\n        });*/\n     }\n\n\n\n     \n\n     var vlSpec: any = {\n      \"data\": {\n        \"values\": data\n      },\n      \"layer\":[\n        {    \n          \"mark\": \"bar\",\n          \"encoding\": {\n            \"y\": { \"field\": diff, \"type\": \"quantitative\"},\n            \"x\": { \"field\": diff, \"type\": \"nominal\"},\n            //\"tooltip\": {\"field\": \"matricule_producteur\", \"type\": \"nominal\"} // pour aficher le hover, option avancee avec l'utilisation du plugin npm install vega-tooltip\n            //\"color\": { \"field\": \"sex_producteur\", \"type\": \"nominal\",\n           // \"scale\": {\"range\": [\"purple\", \"#ff0000\"]}\n            //},\n          //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n          }\n        },\n       {\n           \"transform\": [\n            {\"filter\": {\"field\": \"matricule_producteur\", \"oneOf\":[membre1, membre2]}}\n           ],    \n          \"mark\": \"bar\",\n          \"encoding\": {\n            \"y\": { \"field\": diff, \"type\": \"quantitative\"},\n            \"x\": { \"field\": diff, \"type\": \"nominal\"},\n            \"color\": { \"field\": \"matricule_producteur\",\n            \"scale\": {\"range\": [\"purple\", \"#ff0000\"]},\n            \"axis\": {\"title\":\"Matricule producteurs à comparer\"}\n          },\n          //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n          }\n\n        }\n      ] \n    };\n\n    /*var embedSpec = {\n      mode: \"vega-lite\",\n      spec: vlSpec\n    }\n\n    var opt = {\n    }*/\n\n    var yourVlSpec: any = {\n      \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.0.json\",\n      \"description\": \"A simple bar chart with embedded data.\",\n      \"data\": {\n        \"values\": [\n          {\"a\": \"A\",\"b\": 28}, {\"a\": \"B\",\"b\": 55}, {\"a\": \"C\",\"b\": 43},\n          {\"a\": \"D\",\"b\": 91}, {\"a\": \"E\",\"b\": 81}, {\"a\": \"F\",\"b\": 53},\n          {\"a\": \"G\",\"b\": 19}, {\"a\": \"H\",\"b\": 87}, {\"a\": \"I\",\"b\": 52}\n        ]\n      },\n      \"mark\": \"bar\",\n      \"encoding\": {\n        \"x\": {\"field\": \"a\", \"type\": \"ordinal\"},\n        \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n      }\n    }\n\n    /************************************************\n  embed('#visDiff', vlSpec/*, { mode: \"vega-lite\"}*).then(function(result) {\n      // access view as result.view\n      //vegaLite.vega(result.view);\n      // vegaLite(result.view, vlSpec)\n    }).catch(console.error);\n    //this.loading = false\n    //vegaLite('#visDiff', vlSpec)\n    */////////////////////////////////////\n  }\n\n  ordonner(data){\n    let v: any;\n      for(let i = 0; i < data.length -1; i++){\n        v = data[i];\n        for(let j = i; j < data.length; j++){\n          if(v.diff_NPL > data[j].diff_NPL){\n            data[i] = data[j];\n            data[j] = v;\n            v = data[i];\n          }\n        }\n      }\n\n      return data;\n  }\n\n\n   visualiserMediane(viewData, selectedMed, selectedEntreeMed, membre1, membre2){\n\n    let variable:any;\n    let med: any;\n    let data: any = [];\n\n     viewData.forEach((d) => {\n       if(d.nom_entree === selectedEntreeMed){\n         data.push(d);\n       }\n     });\n\n    if(selectedMed === 'NPL'){\n        variable = 'NPL_controle';\n        med = 'mediane_NPL';\n      }else if(selectedMed === 'NPR'){\n        variable = 'NPR_controle';\n        med = 'mediane_NPR';\n      }else if(selectedMed === 'PDE'){\n        variable = 'PDE_controle';\n        med = 'mediane_PDE';\n      }\n\n     var vlSpec: any = {\n    \"data\": {\n      \"values\": data\n    },\n    \"layer\": [\n      {\n        \"mark\": \"point\",\n        \"encoding\": {\n          \"x\": {\n            \"field\": variable,\n            \"type\": \"quantitative\"\n          },\n          \"y\": {\n            \"field\": selectedMed,\n            \"type\": \"quantitative\"\n          },\n         \"color\": { \"field\": \"sex_producteur\", 'type': \"nominal\" },\n          //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n        }\n      },\n        /*{\n           \"transform\": [\n            {\"filter\": {\"field\": \"matricule_producteur\", \"oneOf\":[membre1, membre1]}}\n           ],    \n          \"mark\": \"point\",\n          \"encoding\": {\n            \"y\": { \"field\": variable, \"type\": \"quantitative\"},\n            \"x\": { \"field\": selectedMed, \"type\": \"quantitative\"},\n            \"color\": { \"field\": \"matricule_producteur\",\n            \"scale\": {\"range\": [\"purple\", \"#ff0000\"]}\n          },\n          //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n          }\n\n        },*/\n      {\n      \"mark\": \"line\",\n      \"encoding\": {\n        \"x\": {\n          \"field\": med,\n          \"type\": \"quantitative\",\n          \"color\": {\"value\": \"firebrick\"},\n          //\"axis\": {\"title\":\"\"}\n\n        },\n        \"y\": {\n          \"field\": med,\n          \"type\": \"quantitative\",\n          \"axis\": {\n            //\"title\":\"\",\n            \"grid\": false\n          },\n          //\"scale\": {\"zero\": false}\n        },\n        \"color\": {\"value\": \"firebrick\"}\n      }\n    }\n    ],\n  \"resolve\": {\"scale\": {\"y\": \"independent\"}} \n  };\n\n    /*var embedSpec = {\n      mode: \"vega-lite\",\n      spec: vlSpec\n    }\n\n    var opt = {\n    }*/\n/***********************************\n    embed('#visMediane', vlSpec, { mode: \"vega-lite\"}).then(function(result) {\n      // access view as result.view\n    }).catch(console.error);\n    *********************/\n  }\n\n  calculStatisitque(essais, traitements, producteurs){\n    this.uniqueMB = this.uniqueMemebre(essais)\n    this.uniqueNbUnion = this.uniqueUnion(essais);\n    this.uniqueNbOP = this.uniqueOP(essais)\n    this.nbSexes = this.getNbSex(essais)\n    this.getNBUnions()\n    this.getNBOPs()\n    //this.calculerMembreAyantFaitUnEssai(essais, producteurs);\n    this.calculerNombreEssaiParTraitement(essais, traitements);\n    //this.visualisation(essais);\n  }\n\n    uniqueMemebre(allEssaisPourDataTable){\n      let nb = new Set(allEssaisPourDataTable.map(item => item.matricule_producteur)).size;\n\n      return nb;\n    }\n\n    uniqueUnion(allEssaisPourDataTable){\n      return new Set(allEssaisPourDataTable.map(item => item.code_union)).size\n    }\n\n    uniqueOP(allEssaisPourDataTable){\n      return new Set(allEssaisPourDataTable.map(item => item.code_op)).size\n    }\n\n    getNbSex(allEssaisPourDataTable){\n      let sexes: any = {'females':0,'hommes': 0};\n      let distincte: any = [];\n      allEssaisPourDataTable.forEach((e) => {\n        if(distincte.indexOf(e.matricule_producteur) === -1){\n          if(e.sex_producteur == 'female'){\n            sexes.females++;\n          }else\n           sexes.hommes++;\n          \n          distincte.push(e.matricule_producteur);\n        }\n      });\n\n      return sexes;\n    }\n\n    getNBOPs(){\n      let opss: any = [];\n      this.servicePouchdb.getPlageDocsRapide('fuma:op:','fuma:op:\\uffff').then((ops) => {\n        if(ops){\n          ops.forEach((op) => {\n            if(op.doc.data.type == 'op'){\n              opss.push(op);\n            }\n          });\n          this.nbAllOP = opss.length;\n        }else\n        this.nbAllOP = 0;\n         \n      });\n    }\n\n    getNBUnions(){\n      this.servicePouchdb.getPlageDocsRapide('fuma:union:','fuma:union:\\uffff').then((unions) => {\n          this.nbAllUnion = unions.length;\n      });\n    }\n\n\n    calculerMembreAyantFaitUnEssai(ess, prod){\n    let temp: any = 0\n    let membreNbEssais: any = {}\n    this.uniqueMembres = [];\n    let d: any = [];\n    let md:any = [];\n    \n\n    ess.forEach((item) => {\n      d.push(item);\n    });\n//let d: any = [];\n    //d = this.allEssais;\n    //var uniqueField='';\n    //md = d;\n    for(let i = 0; i < prod.length ; i++){\n      temp = 0;\n      for(let j=0; j < d.length; j++){\n        if(prod[i].doc.data.matricule_Membre === d[j].doc.data.matricule_producteur){/// nombre de producteur s ayant conduit deux essai\n          temp++;\n          md.push(d[j])\n          //md.splice(j, 1);\n        }\n        //temp.push(data[i]);\n      }\n\n      /*******************************************************************\n       * \n       * A faire: Nombre toutalde producteur ayant conduit des essai, commparer les essai au producteur\n       * \n       */\n      if(temp > 0){\n        membreNbEssais.matricule_Membre = prod[i].doc.data.matricule_Membre;\n        membreNbEssais.nom_Membre = prod[i].doc.data.matricule_Membre;\n        membreNbEssais.code_op = prod[i].doc.data.matricule_Membre.toString().substr(prod[i].doc.data.matricule_Membre.toString().indexOf('-') +1, prod[i].doc.data.matricule_Membre.toString().indexOf(' ') -3)\n        membreNbEssais.nb_Essai = temp;\n        //alert(temp)\n        this.uniqueMembres.push(membreNbEssais);\n        membreNbEssais = {};\n        temp = 0;\n      }\n\n      md.forEach((m) => {\n        d.splice(d.indexOf(m), 1);\n      })\n\n      md = [];\n      this.fin = d;\n    }\n\n    //alert(fin.length)\n    let nbEssaiTotal = 0;\n    let nbDuexEssaiTotal = 0;\n    this.uniqueMembres.forEach((item) => {\n      if(item.nb_Essai === 2){\n        nbDuexEssaiTotal++;\n      }\n      nbEssaiTotal += item.nb_Essai;\n      \n    });\n\n    this.nbTotalEssa = nbEssaiTotal;\n    this.nbDuexEssaiTotal = nbDuexEssaiTotal;\n    //this.statistique = true;\n    \n\n\n    if(this.allOP.length > 0){\n      this.calculerOPAyantParticipeAuxEssai(this.uniqueMembres, this.allOP)\n    }else{\n      this.servicePouchdb.getPlageDocsRapide('fuma:op:','fuma:op:\\uffff').then((ops) => {\n        if(ops){\n          //opss = ops;\n          this.allOP = [];\n          ops.forEach((o, index) => {\n            if(!o.doc.data.op/* || o.data.op !== ''*/){\n              if(this.type === 'union' && o.doc.data.code_union === this.code_union){\n                this.allOP.push(o)\n              }else if(this.type === 'op' && o.doc.data.code_OP === this.code_op){\n                this.allOP.push(o)\n              }else if(this.type === 'essai'){\n                this.allOP.push(o)\n              }\n              \n            }\n          });\n\n          this.calculerOPAyantParticipeAuxEssai(this.uniqueMembres, this.allOP)\n        }\n      });\n    }\n\n    //this.uniqueMembres;\n  }\n\n  calculerOPAyantParticipeAuxEssai(mbr, op){\n    let temp: any = 0\n    let opEssai: any = {}\n    this.opEssai = [];\n    let membres: any = [];\n\n    if(mbr.length > 0){\n      mbr.forEach((item) => {\n        membres.push(item);\n      });\n      \n      //let uniqueOp\n      \n\n      for(let i = 0; i < op.length; i++){\n        temp = 0;\n        for(let j=0; j< membres.length; j++){\n          if(op[i].doc.data.code_OP === membres[j].code_op){\n            temp++;\n            membres.splice(j, 1);\n          }\n          //temp.push(data[i]);\n        }\n\n        if(temp > 0){\n          opEssai.nom_op = op[i].doc.data.nom_OP\n          opEssai.code_op = op[i].doc.data.code_OP\n          opEssai.nb_Membre = temp;\n          this.opEssai.push(opEssai);\n          opEssai = {};\n        }\n        \n      }\n    }\n    \n    //return membreNbEssais;\n  }\n\n\n  calculerNombreEssaiParTraitement(essai, traitement){\n    let tr: any = [];\n    let t: any = {};\n    traitement.forEach((item) => {\n      t.nom_entree = item.doc.data.nom_entree;\n      t.value = 0;\n      tr.push(t);\n      t = {};\n    });\n\n    essai.map((es) => {\n      for(let i =0; i <tr.length; i++){\n        if(es.nom_entree === tr[i].nom_entree){\n          tr[i].value++;\n          break;\n        }\n      }\n    });\n\n    this.statistiqueTraitement = tr;\n  }\n\n\n  dismiss(){\n    this.viewCtl.dismiss();\n  }\n\n\n  selectMembre1(ev: any){\n    //alert(ev.code_produit);\n    if(ev.matricule_Membre && ev.matricule_Membre != ''){\n      this.membre1Data = [];\n      //this.\n      this.selectedMembre1 = ev.matricule_Membre;\n      this.vegaData.map((ess) => {\n        if(ess.matricule_producteur === this.selectedMembre1){\n          this.membre1Data.push(ess);\n        }\n      });\n\n      if(!this.membre1Data.length){\n        alert('Le membre n\\'a pas éffectuer des essais');\n      }else{\n        let E: any = this.membre1Data;\n        E = E.concat(this.membre2Data);\n        this.membresData = E;\n        this.visualiserMembresEssais(this.membresData, this.selectedVar, this.selectedEntreeMembre)\n        this.visualiserMembresControle(this.membresData, this.selectedVar, this.selectedEntreeMembre);\n        this.visualiserDifferenceEssaiControle(this.vegaData, this.selectedDiff, this.selectedEntree, this.selectedMembre1, this.selectedMembre2)\n        this.visualiserMediane(this.vegaData, this.selectedMed, this.selectedEntreeMed, this.selectedMembre1, this.selectedMembre2);\n   \n      }\n    } \n  }\n\n  selectMembre2(ev: any){\n    //alert(ev.code_produit);\n    if(ev.matricule_Membre && ev.matricule_Membre != ''){\n      this.membre2Data = [];\n      this.selectedMembre2 = ev.matricule_Membre;\n\n      this.vegaData.map((ess) => {\n        if(ess.matricule_producteur === this.selectedMembre2){\n          this.membre2Data.push(ess);\n        }\n      });\n\n      if(!this.membre2Data.length){\n        alert('Le membre n\\'a pas éffectuer des essais');\n      }else{\n        let E: any = this.membre1Data;\n        E = E.concat(this.membre2Data);\n        this.membresData = E;\n        this.visualiserMembresEssais(this.membresData, this.selectedVar, this.selectedEntreeMembre);\n        this.visualiserMembresControle(this.membresData, this.selectedVar, this.selectedEntreeMembre);\n        this.visualiserDifferenceEssaiControle(this.vegaData, this.selectedDiff, this.selectedEntree, this.selectedMembre1, this.selectedMembre2)\n        this.visualiserMediane(this.vegaData, this.selectedMed, this.selectedEntreeMed, this.selectedMembre1, this.selectedMembre2);\n   \n      }\n    } \n  }\n\n  changerVar(membresData, selectedVar, selectedEntreeMembre){\n    this.visualiserMembresEssais(membresData, selectedVar, selectedEntreeMembre);\n    this.visualiserMembresControle(membresData, selectedVar, selectedEntreeMembre);\n  }\n\n  changerEntree(membresData, selectedVar, selectedEntreeMembre){\n    this.visualiserMembresEssais(membresData, selectedVar, selectedEntreeMembre);\n    this.visualiserMembresControle(membresData, selectedVar, selectedEntreeMembre);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/visualisations/statistique/statistique.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StatistiquePage } from './statistique';\n\n@NgModule({\n  declarations: [\n    StatistiquePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(StatistiquePage),\n  ],\n  exports: [\n    StatistiquePage\n  ]\n})\nexport class StatistiquePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/visualisations/statistique/statistique.module.ts"],"sourceRoot":""}