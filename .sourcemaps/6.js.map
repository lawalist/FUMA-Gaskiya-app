{"version":3,"sources":["../../src/pages/culture/culture.ts","../../src/components/variable/variable.ts","../../src/pages/culture/culture.module.ts","../../node_modules/file-saver/FileSaver.js","../../(webpack)/buildin/amd-define.js","../../(webpack)/buildin/amd-options.js"],"names":[],"mappings":"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YACR,YAAY,EAAE;gBACZ,6DAAW;gBACX,wFAAiB;aAClB;YACD,OAAO,EAAE;gBACP,mEAAW,EAAE,2EAAmB,EAAE,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;aACxE;YACD,OAAO,EAAE;gBACP,6DAAW;aACZ;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;AClB9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,KAAK,OAAO;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,0DAA0D,gBAAgB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,GAAG,yBAAyB;AAC7G;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA,GAAG;AAAA;AACH;;;;;;;;AC3LA;AACA;AACA;;;;;;;;ACFA;AACA","file":"6.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, IonicApp, ToastController, NavParams, LoadingController, ViewController, App, AlertController, Platform, ModalController, IonicPage, MenuController, Events  } from 'ionic-angular';\nimport { PouchdbProvider } from '../../providers/pouchdb-provider';\n//import { AjouterEssaiPage } from './ajouter-essai/ajouter-essai';\n//import { DetailEssaiPage } from './detail-essai/detail-essai';\nimport { Storage } from '@ionic/storage'; \nimport { File } from '@ionic-native/file';\nimport { global } from '../../global-variables/variable';\nimport * as FileSaver from 'file-saver';\nimport { Printer, PrintOptions } from '@ionic-native/printer';\nimport { Device } from '@ionic-native/device';\nimport { Sim } from '@ionic-native/sim';\n\n//import {Culture} from '../../app/culture.interface'\n//import { from } from 'rxjs/observable/from';\nimport { Validators, FormGroup, FormArray, FormBuilder } from '@angular/forms';\n//import { variable } from '@angular/compiler/src/output/output_ast';\n\ndeclare var cordova: any;\n/**\n * Generated class for the CulturePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-culture',\n  templateUrl: 'culture.html',\n})\nexport class CulturePage {\n\n  cultureForm: FormGroup;\n\n  cultures: any = [];\n  allCultures: any = [];\n  id: any = '';\n  loading: boolean = true;\n  rechercher: any = false;\n  detailCulture: boolean = false;\n  selectedStyle: any = 'liste';\n  culture: any;\n  culture1: any;\n  cultureAModifier: any;\n  grandCulture: any;\n\n  //type_culture: any = 'Mil';\n  selectedLimit: any = 10;\n  limits: any = [10, 25, 50, 100, 500, 1000, 2000, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 'Tous'];\n\n  annee: any = '';\n  code: any = '';\n  today: any;\n  imei: any = '';\n  phonenumber: any = '';\n  user: any = global.info_user;\n  global:any = global;\n  estManager: boolean = false;\n  estAnimataire: boolean = false;\n  aProfile:boolean = false;\n  modifierFrom: boolean = false;\n  estInstancier: boolean = false;\n  ajoutForm: boolean = false;\n  listeCultures:any  = ['Arachide', 'Igname', 'Maïs', 'Manioc', 'Mil', 'Niébé', 'Oignon', 'Pomme de terre', 'Riz', 'Sorgho', 'Tomate'];\n  sauvegarder: boolean = true;\n\n  constructor(public navCtrl: NavController, public loadtingCtl: LoadingController, public toastCtl: ToastController, public ionicApp: IonicApp, public viewCtl: ViewController, public formBuilder: FormBuilder, public sim: Sim, public device: Device, public modelCtl: ModalController, public a: App, public events: Events, public navParams: NavParams, public menuCtl: MenuController, public printer: Printer, public file: File, public platform: Platform, public storage: Storage, public servicePouchdb: PouchdbProvider, public alertCtl: AlertController) {\n  \n    this.menuCtl.enable(false, 'options');\n      this.menuCtl.enable(false, 'connexion');\n      this.menuCtl.enable(false, 'profile');\n      \n    \n    events.subscribe('user:login', (user) => {\n        if(user){\n          this.aProfile = true;\n          this.estMangerConnecter(user)\n          this.estAnimataireConnecter(user)\n        }else{\n          this.aProfile = false;\n          this.estManager = false;\n          this.estAnimataire = false;\n          this.user = global.info_user;\n        }\n        //alert(user)\n        /*this.servicePouchdb.remoteSaved.getSession((err, response) => {\n          if (response.userCtx.name) {\n            //this.aProfile = true;\n            this.user = global.info_user;\n          }else{\n            this.aProfile = false;\n            this.user = {};\n          }\n        }, err => console.log(err));*/\n      });\n  \n  }\n  \n  dismiss(){\n    this.viewCtl.dismiss(/*this.cultures*/);\n    //this.a_matricule = false;\n  }\n  closeToast(){\n   let toast = this.ionicApp._toastPortal.getActive();\n    toast.dismiss();\n  }\n  estMangerConnecter(user){\n    if(user && user.roles){\n      this.estManager = global.estManager(user.roles);\n    }\n  }\n\n   estAnimataireConnecter(user){\n    if(user && user.roles){\n      this.estAnimataire = global.estAnimataire(user.roles);\n    }\n  }\n\n\n  createDate(jour: any, moi: any, annee: any){\n    let s = annee+'-';\n    moi += 1;\n    if(moi < 10){\n      s += '0'+moi+'-';\n    }else{\n      s += moi+'-';\n    }\n\n    if(jour < 10){\n      s += '0'+jour;\n    }else{\n      s += jour;\n    }\n    return s;\n  }\n\n  initForm(){\n\n    let maDate = new Date();\n    //this.dateAjout = maDate;\n    let today = this.createDate(maDate.getDate(), maDate.getMonth(), maDate.getFullYear());\n    this.cultureForm = this.formBuilder.group({\n      type:['culture'],\n      nom: ['', Validators.required],\n      description: [''],\n      variables: this.formBuilder.array([\n          this.initVariable(),\n      ]),\n      today: [today],\n      //deviceid: [''],\n      //imei: [''],\n      //phonenumber: [''],\n      start: [maDate.toJSON()],\n      //end: ['']\n  });\n}\n\n\npartager(_id){\n  let ids: any = [];\n  ids.push(_id);\n\n  let alert = this.alertCtl.create({\n    title: 'Information de connexion au du serveur',\n    //cssClass: 'error',\n    inputs: [\n      {\n        type: 'text',\n        placeholder: 'Adrèsse hôte',\n        name: 'ip',\n        value: '@ip:5984'\n      },\n      {\n        type: 'text',\n        placeholder: 'Nom DB',\n        name: 'nom_db',\n        value: 'nom_db'\n      },\n      {\n        type: 'text',\n        placeholder: 'Nom d\\'utilisateur',\n        name: 'username',\n        //value: info_db.ip\n      },\n      {\n        type: 'password',\n        placeholder: 'Mot de passe',\n        name: 'passwd',\n        //value: info_db.nom_db\n      }\n    ],\n    buttons: [\n      {\n        //cssClass: 'error-border',\n        text: 'Annuler',\n        role: 'Cancel',\n        handler: () => console.log('Changement ip serveur annuler')\n      },\n      {\n        text: 'Valider',\n        handler: (data) => {\n          let ip = data.ip.toString();\n          let nom_db = data.nom_db.toString();\n          let username = data.username.toString();\n          let passwd = data.passwd.toString();\n          let ids:any = [];\n          ids.push(_id);\n          this.servicePouchdb.replicationByDocsId(ids, ip, nom_db, username, passwd);\n        }\n      }\n    ]\n  }); \n\n  alert.present();\n  \n}\n\n\n  initVariable() {\n    \n    return this.formBuilder.group({\n      code_variable: ['', [Validators.required, Validators.pattern('[A-Za-z0-9_-]{1,50}')]],  \n      nom_variable: ['', Validators.required],    \n      type_variable: ['', Validators.required],\n      valeur_variable: [''],\n      unite: [''],\n      choix_variable: [''],\n      est_obligatoire: [false],\n      est_selectionne: [false],\n      description_variable: ['']\n    });\n  }\n\n  addVariable() {\n    const control = <FormArray>this.cultureForm.controls['variables'];\n    control.push(this.initVariable());\n  }\n\n  removeVariable(i: number) {\n    const control = <FormArray>this.cultureForm.controls['variables'];\n    control.removeAt(i);\n  }\n\n  downVariable(i: number) {\n    this.sauvegarder = false;\n    const control = <FormArray>this.cultureForm.controls['variables'];\n    let currentControl = this.clone(control.at(i+1).value);\n    control.at(i+1).setValue(this.clone(control.at(i).value));// = control[i].value;\n    control.at(i).setValue(currentControl);\n    setTimeout(() => this.sauvegarder = true, 10)\n    //control.removeAt(i);\n  }\n\n\n  upVariable(i: number) {\n    this.sauvegarder = false;\n    const control = <FormArray>this.cultureForm.controls['variables'];\n    let currentControl = this.clone(control.at(i-1).value);\n    control.at(i-1).setValue(this.clone(control.at(i).value));// = control[i].value;\n    control.at(i).setValue(currentControl);\n    setTimeout(() => this.sauvegarder = true, 10)\n    //control.removeAt(i);\n  }\n\n  clone(obj) {\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) {return obj};\n\n    // Handle Date\n    if (obj instanceof Date) {\n        var copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        let copy = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n            copy[i] = this.clone(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        let copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = this.clone(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}\n\n\n  getInfoSimEmei(){\n    this.sim.getSimInfo().then(\n        (info) => {\n          if(info.cards.length > 0){\n            info.cards.forEach((infoCard) => {\n              if(infoCard.phoneNumber){\n                this.phonenumber = infoCard.phoneNumber;\n              }\n              if(infoCard.deviceId){\n                this.imei = infoCard.deviceId;\n              }\n            })\n          }else{\n            this.phonenumber = info.phoneNumber;\n            this.imei = info.deviceId;\n          }\n\n        },\n        (err) => console.log('Unable to get sim info: ', err)\n      );\n  }\n\n\n  reinitForm(){\n    //let maDate = new Date();\n    //this.dateAjout = maDate;\n    //this.today = this.createDate(maDate.getDate(), maDate.getMonth(), maDate.getFullYear());\n    //this.chargerChamps('');\n    //this.annee = '';\n    \n    this.initForm();\n  }\n\ngenerateId(){\n    var chars='ABCDEFGHIJKLMNPQRSTUVWYZ'\n    var numbers='0123456789'\n    var randomArray=[]\n    for(let i=0;i<4;i++){\n      var rand = Math.floor(Math.random()*10)\n      randomArray.push(numbers[rand])\n    }\n    randomArray.push('-')\n    for(let i=0;i<4;i++){\n      var rand = Math.floor(Math.random()*24)\n      randomArray.push(chars[rand])\n    }\n    \n    var randomString=randomArray.join(\"\");\n    var Id= /*+pays+'-'+region+'-'+department+'-'+commune +'-' +village+ */''+randomString \n    return Id;\n  }\n\n\n  existe(culture){\n    //let c: any = {};\n    let res: any = 0;\n    //alert(producteur_connu+'  '+matricule_producteur)\n    for(let i = 0; i < this.allCultures.length; i++){ \n      //c = this.allCultures[i];\n      if(this.allCultures[i].doc.data.nom == culture.nom && (culture.code  && this.allCultures[i].doc.data.code != culture.code)){\n        res = 1;\n        break;\n      }\n    }\n\n    if(res == 0){\n      if(culture.variables.length > 1){\n        for(let i = 0; i < culture.variables.length -1; i++){\n          if(res == 0){\n            for(let j = i + 1; j < culture.variables.length; j++){\n              if((culture.variables[i].code_variable == culture.variables[j].code_variable) || culture.variables[i].nom_variable == culture.variables[j].nom_variable){\n                res = 'code: ' +culture.variables[j].code_variable + '=> nom: '+culture.variables[j].nom_variable;\n                break;\n              }else if(culture.variables[i].choix_variable && (culture.variables[i].type_variable == 'choix' || culture.variables[i].type_variable == 'choix_multiple') && (!culture.variables[i].choix_variable || !culture.variables[i].choix_variable.length)){\n                res = -1;\n                break;\n              }\n            }\n          }else{\n            break;\n          }\n          \n        }\n      }\n    }\n    return res;\n\n    \n  }\n\n\n  actionForm(){\n    if(this.sauvegarder){\n      let culture = this.cultureForm.value;\n      culture.variables.forEach((vr) => {\n        if(vr.type_variable == 'choix' || vr.type_variable == 'choix_multiple'){\n          vr.choix_variable = vr.choix_variable.toString().split(',');\n        }\n      })\n\n      let res = this.existe(culture);\n      if(res == 1){ \n        alert('Erreur! Enrégistrement impossible, cette culture existe déjà!');\n      }else if(res != 0){\n        alert('Erreur! Enrégistrement impossible, variables en double: '+res);\n      }if(res == -1){\n        alert('Erreur! Enrégistrement impossible, la liste des choix est vide!');\n      }else{\n\n        if(this.ajoutForm && !this.modifierFrom){\n          let date = new Date();\n          \n          culture.deviceid = this.device.uuid;\n          culture.phonenumber = this.phonenumber;\n          culture.imei = this.imei; \n          culture.update_deviceid = this.device.uuid;\n          culture.update_phonenumber = this.phonenumber;\n          culture.update_imei = this.imei;\n          culture.code = this.id;\n          \n          //union._id = 'fuma'+ id;\n          culture.end = date.toJSON();\n          //culture.code_essai = id;\n          //champs.id_champs = id;\n        \n          let cultureFinal: any = {};\n          cultureFinal._id = 'fuma'+':culture:'+ this.id;\n          cultureFinal.data = culture\n          let EF: any;\n          this.servicePouchdb.createDocReturn(cultureFinal).then((res) => {\n            /* let toast = this.toastCtl.create({\n                message: 'Essai bien enregistré!',\n                position: 'top',\n                duration: 1000\n              });*/\n              \n              \n              //alert(res.rev)\n              cultureFinal._rev = res.rev;\n              let E: any = {};\n              E.doc = cultureFinal;\n              \n              //this.viewCtl.dismiss(essaiFinal);\n            // this.zone.run(() => {\n              this.cultures.push(E);\n            }).catch((err) => alert('err ajout '+err));\n  \n            \n            this.ajoutForm = false;\n            this.reinitForm();\n\n          }else if(this.modifierFrom){\n            let date = new Date();\n            //let culture = this.cultureForm.value;\n            this.culture1.nom = culture.nom;\n            this.culture1.description = culture.description;\n            this.culture1.variables = culture.variables;\n            this.culture1.update_deviceid = this.device.uuid;\n            this.culture1.update_phonenumber = this.phonenumber;\n            this.culture1.update_imei = this.imei;\n            this.grandCulture.data = this.culture1;\n            this.servicePouchdb.updateDocReturn(this.grandCulture).then((res) => {\n              this.grandCulture._rev = res.rev;\n              this.culture = this.grandCulture;\n              this.reinitFormModifier();\n              this.modifierFrom = false;\n              this.detailCulture = true\n              this.ajoutForm = false;\n      \n            \n            let e: any = {};\n              e.doc = this.culture;\n              this.cultures.forEach((es, i) => {\n                if(es.doc._id === this.cultureAModifier._id){\n                  this.cultures[i] = e ;\n                }\n                \n              });\n            });\n          }\n      \n        }  \n    }\n    \n}\n\nvarietes(culture){\n  let model = this.modelCtl.create('GestionVarietePage', {'culture': culture});\n  model.present();\n}\n\nannuler(){\n    this.ajoutForm = false;\n\n  if(this.modifierFrom){\n    this.modifierFrom = false;\n    this.ajoutForm = false;\n    this.detailCulture = true;\n    this.reinitFormModifier();\n  } \n}\n\nfermerDetail(){\n    this.detailCulture = false;\n    //this.essai = {};\n  \n}\n\nsupprimer(culture){\n  let e: any = {};\n  let alert = this.alertCtl.create({\n    title: 'Suppression culture',\n    message: 'Etes vous sûr de vouloir supprimer cette culture ?',\n    inputs: [\n      {\n        type: 'checkbox',\n        label: 'Supprimer définitivement!',\n        value: 'oui',\n        checked: false\n        }\n    ],\n    buttons:[\n      {\n        text: 'Non',\n        handler: () => console.log('suppression annulée')\n\n      },\n      {\n        text: 'Oui',\n        handler: (data) => {\n          if(data.toString() === 'oui'){\n            this.servicePouchdb.deleteReturn(culture).then((res) => {\n              //let e: any = {};\n              //e.doc = essai;\n              this.cultures.forEach((es, i) => {\n                if(es.doc._id === culture._id){\n                  this.cultures.splice(i, 1);\n                }\n                \n              });\n  \n              this.detailCulture = false;\n              //this.navCtrl.pop();\n            }, err => {\n              console.log(err)\n            }) ;\n          }else{\n            this.servicePouchdb.deleteDocReturn(culture).then((res) => {\n              //let e: any = {};\n              //e.doc = essai;\n              this.cultures.forEach((es, i) => {\n                if(es.doc._id === culture._id){\n                  this.cultures.splice(i, 1);\n                }\n                \n              });\n  \n              this.detailCulture = false;\n              //this.navCtrl.pop();\n            }, err => {\n              console.log(err)\n            }) ;\n          }\n          \n        }\n      }\n    ]\n  });\n\n  alert.present();\n}\n\noption(){\n  this.menuCtl.enable(true, 'options');\n  this.menuCtl.enable(false, 'connexion');\n  this.menuCtl.enable(false, 'profile');\n  this.menuCtl.toggle()\n}\n\nprofile(){\n  this.menuCtl.enable(false, 'options');\n  this.menuCtl.enable(false, 'connexion');\n  this.menuCtl.enable(true, 'profile');\n  this.menuCtl.toggle()\n}\n\nconnexion(){\n  this.menuCtl.enable(false, 'options');\n  this.menuCtl.enable(true, 'connexion');\n  this.menuCtl.enable(false, 'profile');\n  this.menuCtl.toggle() \n}\n\n\n sync(){\n  this.servicePouchdb.syncAvecToast(this.getCultures());\n  //this.pourCreerForm();\n}\n\nexportExcel(){\n\n  let date = new Date();\n  //let dateHeure = date.toLocaleDateString()+ date.toLocaleTimeString();// + date.getTime().toLocaleString();\n  let nom = date.getDate().toString() +'_'+ (date.getMonth() + 1).toString() +'_'+ date.getFullYear().toString() +'_'+ date.getHours().toString() +'_'+ date.getMinutes().toString() +'_'+ date.getSeconds().toString();\n\n  let blob = new Blob([document.getElementById('tableau').innerHTML], {\n    //type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8\"\n    type: \"text/plain;charset=utf-8\"\n    //type: 'application/vnd.ms-excel;charset=utf-8'\n    //type: \"application/vnd.ms-excel;charset=utf-8\"\n  });\n\n  if(!this.platform.is('android')){\n    FileSaver.saveAs(blob, 'cultures'+nom+'.xls');\n  }else{\n\n    let fileDestiny: string = cordova.file.externalRootDirectory;\n    this.file.writeFile(fileDestiny, 'cultures_'+nom+'.xls', blob).then(()=> {\n        alert(\"Fichier créé dans: \" + fileDestiny);\n    }).catch(()=>{\n        alert(\"Erreur de création du fichier dans: \" + fileDestiny);\n    })\n  }\n}\n\nonPrint(){\n  let options: PrintOptions = {\n      //name: 'Rapport',\n      //printerId: 'printer007',\n      duplex: true,\n      landscape: true,\n      grayscale: true\n  };\n  let content = document.getElementById('tableau').innerHTML;\n  this.printer.print(content, options);\n}\n\n\nionViewDidEnter(){\n  //this.getEssais()\nthis.servicePouchdb.remoteSaved.getSession((err, response) => {\n  if (err) {\n    // network error\n    //this.events.publish('user:login');\n    //alert('network')\n    this.aProfile = false;\n  } else if (!response.userCtx.name) {\n    // nobody's logged in\n    //this.events.publish('user:login');\n    //alert('nobady')\n    this.aProfile = false;\n  } else {\n    // response.userCtx.name is the current user\n    //this.events.publish('user:login', response.userCtx);\n    //alert(response.userCtx.name)\n    this.aProfile = true;\n  }\n});\n\n\n//setInterval(this.servicePouchdb.testConnexion(), 2000)\nif(!this.estInstancier){\nthis.getCultures();\nthis.estInstancier = true;\n}\n\n//this.pourCreerForm();\nthis.getInfoSimEmei();\nthis.estInstancier = true;\n\n///this.corrigerErreur();\n//this.servicePouchdb.findByTypeData()\n}\n\n\n\nionViewDidLoad() { \n\n  this.initForm();\n\n}\n\n\nchoixLimit(){\n  this.rechercher = true;\n  if(this.selectedLimit !== 'Tous'){\n    this.cultures = this.allCultures.slice(0, this.selectedLimit);\n    this.rechercher = false;\n  }else{\n    this.cultures = this.allCultures;\n    this.rechercher = false;\n  }\n  \n}\n\nchoixLimit1(){\n  this.rechercher = true;\n\n  if(this.selectedLimit === 'Tous'){\n    this.servicePouchdb.getPlageDocsRapide('fuma:culture', 'fuma:culture:\\uffff').then((c) => {\n      if(c){\n          this.cultures = c;\n          this.allCultures = c;\n          this.rechercher = false;\n      }else{\n        this.rechercher = false;\n      }\n    });\n\n    }else{\n      this.servicePouchdb.getPlageDocsRapideAvecLimit('fuma:culture', 'fuma:culture:\\uffff', this.selectedLimit).then((p) => {\n        if(p){\n          this.cultures = p;\n          this.allCultures = p;\n          this.rechercher = false;\n        }else{\n          this.rechercher = false;\n        }\n\n      });\n\n  }\n}\n\n getCultures(refresher: any = ''){\n  if(refresher === ''){\n    this.rechercher = true;\n  }\n\n\n\n  if(this.selectedLimit === 'Tous'){\n    // this.servicePouchdb.getPlageDocs('fuma:essai', 'fuma:essai:\\uffff').then((e) => {\n      //   if(e){\n          //cas ou le producteur est connu\n\n            this.servicePouchdb.getPlageDocsRapide('fuma:culture:', 'fuma:culture:\\uffff').then((c) => {\n              if(c){\n                /*let cs:any = [];\n                c.forEach((cultrue) => {\n                  if(cultrue.doc.data.type == 'culture'){\n                    cs.push(cultrue);\n                  }\n                })*/\n                  this.cultures = c;\n                  this.allCultures = c;\n                  this.rechercher = false;\n                  if(refresher !== ''){\n                  refresher.complete();\n                }\n              }else{\n                this.rechercher = false;\n                if(refresher !== ''){\n                  refresher.complete();\n                }\n              }\n            });\n\n      \n      //  }\n      // });\n    }else{\n\n  \n        this.servicePouchdb.getPlageDocsRapideAvecLimit('fuma:culture:', 'fuma:culture:\\uffff', this.selectedLimit).then((c) => {\n          if(c){\n            /*let cs: any = [];\n            c.forEach((culture) => {\n              if(culture.doc.data.type == 'culture'){\n                cs.push(culture);\n              }\n            })*/\n            this.cultures = c;\n            //this.allEssais = e;\n            this.rechercher = false;\n            if(refresher !== ''){\n              refresher.complete();\n            }\n          }else{\n            this.rechercher = false;\n            if(refresher !== ''){\n              refresher.complete();\n            }\n          }\n\n        });\n\n        this.servicePouchdb.getPlageDocsRapide('fuma:culture:', 'fuma:culture:\\uffff').then((c) => {\n          if(c){\n            /*let cs: any = [];\n            c.forEach((culture) => {\n              if(culture.doc.data.type == 'culture'){\n                cs.push(culture);\n              }\n            })*/\n            this.allCultures = c;\n            //this.rechercher = false;\n          }\n        });\n\n    }\n}\n\n\n\nediter(culture, dbclick: boolean = false){\n  if(!dbclick || (dbclick && this.user && this.user.roles && global.estAnimataire(this.user.roles))){\n    this.grandCulture = culture;\n    this.culture1 = this.grandCulture.data;\n    let Culture = {\n      nom: culture.data.nom, // required\n      description: culture.data.description,\n      variables: culture.data.variables, // une culture peut avoir une ou plusieurs données\n      type: culture.data.type,\n      today: culture.data.today,\n      start: culture.data.start\n  }\n  this.cultureForm.patchValue(Culture);\n    culture.data.variables.forEach((variable, index)=> {\n      if(index > 0){\n        (<FormArray>this.cultureForm.get('variables')).push(\n          this.formBuilder.group({\n            code_variable: [variable.code_variable, Validators.required],  \n            nom_variable: [variable.nom_variable, Validators.required],    \n            type_variable: [variable.type_variable, Validators.required],\n            valeur_variable: [variable.valeur_variable],\n            unite: [variable.unite],\n            choix_variable: [variable.choix_variable],\n            est_obligatoire: [variable.est_obligatoire],\n            est_selectionne: [false],\n            description_variable: [variable.description_variable]\n          }))\n      }\n      \n    }\n  )\n    \n    this.detailCulture = false;\n\n    this.ajoutForm = true;\n\n    this.modifierFrom = true;\n    this.cultureAModifier = culture;\n }\n}\n\nreinitFormModifier(){\n  this.grandCulture = {};\n  this.culture1 = {};\n  //this.cultureForm.reset({variables: []});\n\n  this.initForm();\n  //this.type_culture = '';\n  this.annee = '';\n}\n\n\n ajouter(){\n\n    let maDate = new Date();\n    this.today = this.createDate(maDate.getDate(), maDate.getMonth(), maDate.getFullYear());\n    this.id = this.generateId();\n    this.ajoutForm = true;\n    \n}\n\n\ndetail(culture){\n  this.culture = culture;\n\n  this.detailCulture = true;\n\n}\n\n\n\ngetItems(ev: any) {\n  // Reset items back to all of the items\n  //this.essais = this.allEssais;\n\n  // set val to the value of the searchbar\n  let val = ev.target.value;\n\n  // if the value is an empty string don't filter the items\n  if (val && val.trim() != '' && val.trim() != 'FM-' && val.trim() != 'fm-') {\n    this.cultures = this.allCultures.filter((item, index) => {\n      return (item.doc.data.nom.toLowerCase().indexOf(val.toLowerCase()) > -1);\n    });\n  }else{\n    this.choixLimit();\n  }\n} \n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/culture/culture.ts","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\n/**\n * Generated class for the VariableComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'variable',\n  templateUrl: 'variable.html'\n})\nexport class VariableComponent {\n\n  @Input('group')\n  public variableForm: FormGroup;\n\n  constructor() {\n    //console.log('Hello VariableComponent Component');\n    //this.text = 'Hello World';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/variable/variable.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CulturePage } from './culture';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { VariableComponent } from '../../components/variable/variable';\n\n@NgModule({\n  declarations: [\n    CulturePage,\n    VariableComponent\n  ],\n  imports: [\n    FormsModule, ReactiveFormsModule, IonicPageModule.forChild(CulturePage),\n  ],\n  exports: [\n    CulturePage\n  ],\n})\nexport class CulturePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/culture/culture.module.ts","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/file-saver/FileSaver.js\n// module id = 880\n// module chunks = 1 4 5 6 7 8 9 10 11 12 13 14","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 881\n// module chunks = 1 4 5 6 7 8 9 10 11 12 13 14","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 882\n// module chunks = 1 4 5 6 7 8 9 10 11 12 13 14"],"sourceRoot":""}